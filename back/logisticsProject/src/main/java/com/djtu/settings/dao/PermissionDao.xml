<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.djtu.settings.dao.PermissionDao">

    <insert id="addPermList" parameterType="com.djtu.settings.pojo.Permission">
        insert into tbl_permission
        values (#{id},
                #{code},
                #{name},
                #{fatherId},
                #{path},
                #{isMenu},
                #{roleId})
    </insert>
    <select id="getSubPermissionListByFatherId" resultType="com.djtu.settings.pojo.Permission">
        select id,
               code,
               name,
               father_id,
               path,
               is_menu,
               role_id
        from tbl_permission
        where father_id = #{fatherId}
    </select>
    <select id="getFatherPermissionListByRoleId" resultType="com.djtu.settings.pojo.Permission">
        select  id,
                code,
                name,
                father_id,
                path,
                is_menu,
                role_id
        from tbl_permission where father_id = 0 and role_id = #{id}
    </select>
</mapper>
